$(function(){$(".validation-msg").hide();var t=$("body").outerWidth();$(".navbar-collapse").css("left",-t),$(".we-mega-menu-submenu").css("right",-t),$(".we-mega-menu-submenu").hide(),$(".navbar-toggler-icon").on("click",function(){$(".navbar-collapse").removeClass("hidden"),$(".navbar").removeClass("m-view"),$(".navbar-collapse").hasClass("show")||($(this).addClass("hidden"),$(".navbar").addClass("m-view"),$(".close-btn").toggleClass("hidden")),$(".navbar-collapse").animate({left:"0px"},100)}),$(".we-mega-menu-ul").find("li.dropdown-menu").on("click",function(){$(".we-mega-menu-submenu").css("right",-t),$(".we-mega-menu-submenu").removeClass("hidden"),$(".navbar-collapse").hasClass("show")?$(".we-mega-menu-submenu").animate({right:"0px"},500):($(this).toggleClass("active"),$("header,body").toggleClass("active"))}),$(".btn.back").on("click",function(e){e.preventDefault(),e.stopPropagation(),$(".we-mega-menu-submenu").animate({right:t},100)}),$(".close-btn").on("click",function(){$(".navbar-collapse").animate({left:-t},300),$(".we-mega-menu-submenu").addClass("hidden"),$(".navbar-toggler-icon").removeClass("hidden"),$(".close-btn").addClass("hidden")}),$("#accordion .field--item").first().find(".card-header").addClass("active"),$("#accordion .field--item").first().find(".card-header").next().addClass("show");$("#accordion > .field > .field--item").length;var e=1;$("#accordion").find(".card").each(function(){$(this).find(".card-header").find("button").attr("data-target","#collapse"+e),$(this).find(".card-header").next().attr("id","collapse"+e),e++}),$("#accordion .card-header").find("button").on("click",function(){$(".card").find(".card-header").removeClass("active"),$(this).parents(".card-header").next().hasClass("show")||$(this).parents(".card-header").addClass("active")}),$(".overview-gallery").find(".zoom").on("click",function(){$("#imagepreview").attr("src",$(this).parent().find("img").attr("src"))}),$(window).scroll(function(){var e=$("header"),t=($(".categories-block"),$(window).scrollTop());100<=t?e.addClass("fixed"):e.removeClass("fixed"),816<=t?($(".categories-block").addClass("fixed"),$("header").addClass("fixed-cat")):($(".categories-block").removeClass("fixed"),$("header").removeClass("fixed-cat")),$(".sticky-top-btn,.back-top").on("click",function(){$("html, body").stop().animate({scrollTop:0},1e3,"swing")})});$(".check-in-out .select-side .arrow-down");var i=$(".check-in-out input[name='check_in_check_out']"),r=new Date,s=new Date(r.getTime()+864e5),o=r.toLocaleDateString().substring(0,10)+" - "+s.toLocaleDateString().substring(0,10);i.val(o),i.datepick({minDate:new Date,dateFormat:"mm/dd/yyyy",monthsToShow:2,rangeSelect:!0,rangeSeparator:" - ",prevText:"<",nextText:">",changeMonth:!1,selectDefaultDate:!0,onDate:function(e){for(var t=9<e.getDate()?e.getDate():"0"+e.getDate(),i=e.getMonth()+1,s=9<i?i:"0"+i,o=e.getFullYear()+"-"+s+"-"+t,n=0;n<l.length;n++)if(l[n].date==o)return{content:e.getDate()+'<div class="h-prices">$'+l[n].rate.minRate+"</div>"};return{content:e.getDate()+"<div>&nbsp;</div>"}},showTrigger:"#calendarBtn",showAnim:"slideDown",popupContainer:".datePickerContainer",alignment:"bottom",showOnFocus:!1});var l=[];function n(e,t,i){i=i;var s=new Date,o=new Date(r.getTime()+5184e6),n=drupalSettings.path.baseUrl,a=window.location.origin+n;if(""==i||null==i)i=99939;$.ajax({url:a+"/calendar/hotelcode",type:"GET",headers:{"content-type":"application/json"},dataType:"json",cache:!1,data:{hotelCode:i,dateIn:s.toISOString().substring(0,10),dateOut:o.toISOString().substring(0,10),rooms:e,adults:t},success:function(e){l=e.dates||[],$("#loader-spin").hide("slow")},error:function(e,t,i){alert("Error - "+e.statusText),$("#loader-spin").hide("slow")}})}function a(e,t){e.parent().hasClass("destination")?(e.toggleClass("active"),$(t).find(".dropdown-menu.popup").slideToggle(),$(t).find(".datepick-popup").slideUp(),$(t).find(".dropdown-menu.rooms").slideUp(),e.parent().siblings().find(".select-side").removeClass("active")):e.parents().hasClass("check-in-out")?(e.toggleClass("active"),$(t).find(".dropdown-menu.rooms").slideUp(),$(t).find(".dropdown-menu.popup").slideUp(),e.parents(".check-in-out").siblings().find(".select-side").removeClass("active")):e.parent().hasClass("rooms-booking")?(e.toggleClass("active"),$(t).find(".dropdown-menu.rooms").slideToggle(),$(t).find(".dropdown-menu.popup").slideUp(),$(t).find(".datepick-popup").slideUp(),e.parent().siblings().find(".select-side").removeClass("active")):e.removeClass("active")}$(".booking-slots .discover-resort").find(".resort-name").on("click",function(){var e=$(this).attr("htc");$("#loader-spin").show("fast"),n(1,2,e)}),$(".check-in-out input[name='check_in_check_out']").attr("readonly","readonly"),$(".booking-slots .select-side").removeClass("active"),$(".booking-slots.header").find(".select-side").on("click",function(){a($(this),".booking-slots.header")}),$(".content-wrapper .booking-slots").find(".select-side").on("click",function(){a($(this),".content-wrapper .booking-slots")});var d=$("form select[name='destinations'] option:selected").text();$("body").is(".path-frontpage, .page-node-type-blog, .path-blogs, .page-node-type-welk-experience,.page-node-type-work-with-us,.page-node-type-tours,.page-node-type-media-landing-page")?$("input[name='resort_destinations']").each(function(){$(this).val("Select a resort")}):$("input[name='resort_destinations']").val(d),$(".webform-submission-booking-form-form .dropdown-menu").find(".resort-name").on("click",function(){var e=$(this).text(),t=$(this).attr("id"),i=$(this).attr("href");$(".form-item-resort-destinations input[name='resort_destinations']").val(e),$("#edit-destinations option").each(function(){$(this).val()==t&&$(this).attr("selected","selected"),$(this).val()==i&&$(this).attr("selected","selected")}),$(".dropdown-menu.popup").slideUp("slow")}),$(".webform-submission-booking-form-form").find('input[type="text"]').prop("readonly",!0),$(".webform-submission-booking-form-form").find('input[name="promo_code"]').prop("readonly",!1),$(".secondary-nav").find("li").each(function(){1==$(this).children("ul").length&&$('<i class="arrow"></i>').appendTo($(this).find("> a"))}),u(".sub-pages-header .explore-resort-btn",".secondary-nav");var c=1,p=2;function m(e){var t=e.parent().find("input").val();if(e.parents(".rooms-guests").hasClass("total-rooms")){if(e.removeClass("active"),parseInt(t)<6)if(e.hasClass("add")){var i=parseInt(t)+1;$(".rooms-guests:nth-child("+(i+1)+")").removeClass("hide"),$(".rooms-guests:nth-child("+(i+1)+")").addClass("show")}else if(1<t){i=parseFloat(t)-1;$(".rooms-guests:nth-child("+(i+2)+")").addClass("hide"),$(".rooms-guests:nth-child("+(i+2)+")").removeClass("show")}else i=1;else{if(i=t,e.hasClass("minus")){i=parseFloat(t)-1;$(".rooms-guests:nth-child("+(i+2)+")").addClass("hide"),$(".rooms-guests:nth-child("+(i+2)+")").removeClass("show")}t=i}e.parent().find("input").val(i),c=i}else{if(parseInt(t)<8)if(e.hasClass("add"))i=parseInt(t)+1;else if(1<t)i=parseFloat(t)-1;else i=1;else{if(i=t,e.hasClass("minus"))i=parseFloat(t)-1;t=i}e.parent().find("input").val(i)}}$(".booking-div").find("a.btn-primary").click(function(){c=$(".rooms-guests.guest.show").length}),$(".edit-rooms-guests").val(c+" Rooms:  "+p+" Guests"),$(".webform-submission-form").find('input[name="rooms"]').val(c),$(".webform-submission-form").find('input[name="guests"]').val(p),$(".booking-slots.header").find(".rooms-guests button").on("click",function(){$this=$(this);var t=[];m($this);var i=0;$(".booking-slots.header").find(".rooms-guests.guest").each(function(){if($(this).hasClass("show")){var e=$(this).find('input[type="text"]');t.push(e.val()),i+=parseInt(e.val()),p=i}}),$(".edit-rooms-guests").val(c+" Rooms:  "+p+" Guests"),$(".webform-submission-form").find('input[name="rooms"]').val(c),$(".webform-submission-form").find('input[name="guests"]').val(t),n(c,p)}),$(".content-wrapper .booking-slots").find(".rooms-guests button").on("click",function(){$this=$(this),m($this);var t=0,i=[];$(".content-wrapper .booking-slots").find(".rooms-guests.guest").each(function(){if($(this).hasClass("show")){var e=$(this).find('input[type="text"]');i.push(e.val()),t+=parseInt(e.val()),p=t}}),$(".edit-rooms-guests").val(c+" Rooms:  "+p+" Guests"),$(".booking-slots.header").find(".rooms-guests.total-rooms").find("input").val(c),$(".webform-submission-form").find('input[name="rooms"]').val(c),$(".webform-submission-form").find('input[name="guests"]').val(i),n(c,p)});var f=$("#bgvid");function h(e,n){$(e).each(function(){for(var e=$(this).find(".main-content").text().trim(),t="",i=0,s=0,o=0;o<e.length;o++)if(" "==e[o]||","==e[o]||"."==e[o]){if(""!=t.trim()&&(t="",s=o,++i==n))break}else t+=e[o];e=$(this).find(".main-content").html(),i==n&&s+1!=e.length?(html='<span class="default-text">'+e.substring(0,s)+"</span>",$(this).find(".main-content").html(html),$('<span class="morecontent"> '+e+"</span>").appendTo($(this).find(".main-content")),$(this).find("a.viewmore").show()):($(this).find("a.viewmore").hide(),$(this).find("a.viewmore.medium").show()),$(this).find(".morecontent").hide()}),$(e).each(function(){$(this).find("a.viewmore").click(function(e){e.preventDefault();var t=$("body").hasClass("page-node-type-resort-destinations"),i=$("body").hasClass("page-node-type-room-details"),s=$("body").hasClass("page-node-type-offers"),o=$("body").hasClass("page-node-type-work-with-us");$(this).removeClass("active"),$(this).parent().prev().find(".default-text").show("fast"),$(this).parent().prev().find(".morecontent").slideToggle("fast").toggleClass("active"),$(this).parent().prev().find(".morecontent").hasClass("active")?(t||i||s||o)&&($(this).addClass("active"),$(this).parent().prev().find(".default-text").hide("fast"),$(this).find("span").text("View Less")):($(this).find("span").text("View More"),$(this).removeClass("active"))})})}function u(e,t){$(e).on("click",function(){$(t).slideToggle("slow"),$(e).toggleClass("active")})}function g(e){$(e).find(".webform-submission-form").find(".webform-button--submit").click(function(e){e.preventDefault();var t=$(this).parents("form").find('input[type="email"]');return""===t.val()||null==t.val()?(t.addClass("error"),$(".validation-msg").text("Please Enter your email address").show(),!1):/^\b[A-Z0-9._%-]+@[A-Z0-9.-]+\.[A-Z]{2,4}\b$/i.test(t.val())?$("input.form-checkbox").is(":checked")?""==grecaptcha.getResponse()?($(".validation-msg").text("reCAPTCHA is mandatory").show(),!1):($(".validation-msg").hide(),void $(this).parents("form").submit()):(t.removeClass("error"),$(".validation-msg").text("Please select the checkbox for Welk Exclusive Offers").show(),!1):($(".validation-msg").text("Email Id is not valid").show(),!1)})}function v(e){max_length=$(e).attr("maxlength"),$(e).attr("onkeypress","if(this.value.length >= max_length) return false;")}$(".video-btn-wrapper .btn.pauseplay").click(function(){f.get(0).play()&&!$(this).hasClass("play")?($(this).addClass("play"),f.get(0).pause()):($(this).removeClass("play"),f.get(0).play())}),1==$(".video-banner-wrapper").find("#bgvid").length&&($("#heroBanner").hide(),$(".video-banner-wrapper").find("#bgvid").show(),$(".video-banner-wrapper").css("max-height","758px"),$(".video-banner-wrapper").addClass("active")),$(".we-mega-menu-submenu a").on("click ",function(e){e.preventDefault();var t=$(this).attr("href");window.open(t,"_self")}),h(".page-node-type-amenities-activities .activities","100"),h(".family-resort","25"),h(".welk-experience","100"),h(".col-7-3-style","100"),h(".user-experience .col-lg-4","10"),h(".offer-component","40"),$(".local-map-area .title-block,#locationMap .title-block").find(".icon").on("click",function(){$(this).parent().next("ul").slideToggle()}),$("#viewGallery,#tourGallery").on("hidden.bs.modal",function(){$("#pvid").prop("muted",!1)?($("#pvid").prop("muted",!0),$("#popupsound").removeClass("on")):($("#pvid").prop("muted",!1),$("#popupsound").addClass("on"))}),u(".jump-nav",".mobile-tab .nav-tabs"),$("#heroBanner .carousel-item:first,#viewGallerySection .carousel-item:first,#3DGallerySection .carousel-item:first").addClass("active"),$("#heroBanner").carousel({interval:4e3}),$("#3DGallerySection,#viewGallerySection").carousel({pause:!0,interval:!1}),$("#inquery-form").find(".btn-secondary").on("click",function(){$("#inquery-form").modal("hide")}),$("#blogCarousel").owlCarousel({center:!0,loop:!0,margin:30,nav:!0,slideTransition:"linear",animateIn:!0,animateOut:!0}),$("#offerCarousel").owlCarousel({loop:!0,items:1,dots:!0,responsiveClass:!0}),$("#overviewGallery").owlCarousel({loop:!0,center:!0,margin:30,nav:!0,responsive:{0:{items:3},600:{items:3},1e3:{items:3,slideBy:1}}}),$("#socialFeed").owlCarousel({loop:!0,margin:0,nav:!0,responsive:{0:{items:1},600:{items:1},1e3:{items:4,slideBy:4}}}),$(".form-item-your-email-address").hasClass("has-error")?($(".sign-up-block .alert-dismissible").addClass("show"),$(".sign-up-block .alert-dismissible").removeClass("hide")):($(".sign-up-block .alert-dismissible").addClass("hide"),$(".sign-up-block .alert-dismissible").removeClass("show")),0!=$(".webform-confirmation").length&&($(".webform-confirmation").parents(".input-group").parent().find("label").hide(),$(".comments-section .webform-confirmation").parent().prev("h5").hide()),$("body").hasClass("page-node-type-blog")?g(".sign-up-block.secondary"):g(".sign-up-block"),$(".comments-section").find("form").on("submit",function(){if(""==grecaptcha.getResponse())return $(".validation-msg").show(),!1;$(".validation-msg").hide()}),v('.comments-section input[name="first_name"]'),v('.comments-section input[name="last_name"]');var b=window.location.origin+window.location.pathname;function w(i,e,s,t){$(i).hide();var o=$(i).length,n=e;$(i+":lt("+n+")").show(),$(t).click(function(e){e.preventDefault();var t=$(this);n=n+s<=o?n+s:o,$(i+":lt("+n+")").slideDown("slow"),n==o&&t.hide()})}$(".categories-block.blogs .views-exposed-form .form-select").find(".form-group").each(function(){var e=$(this).find("a");$("<option>"+e.text()+"</option>").appendTo($(".categories-block.blogs .filter-block"));var t=$(".categories-block.blogs").find(".filter-block option");t.filter(function(){$.trim($(this).text())==$.trim(e.text())&&$(this).val(e.attr("href"))}),$(".categories-block.blogs select").on("change",function(){var e=$(this).val();return e&&(window.location=e),!1}),t.filter(function(){$.trim($(this).val())==b&&$(this).attr("selected",!0)})}),$(".secondary-nav li").each(function(){if(1==$(this).find("ul").length){var e=$(this);$(this).find("li").each(function(){"Weddings"==$(this).find("a").text()&&(e.find("ul").prev("a").addClass("no-link"),e.find("ul").prev("a").on("click",function(){return!1}))})}}),$(window).on("load",function(){var e=window.location.href.split("#")[1];$("#offer"+e).length&&$("html,body").animate({scrollTop:$("#offer"+e).offset().top-210},2e3),$("#offer"+e).addClass("active")}),$(".footer-wrapper .social-media").find("a").on("click",function(e){e.preventDefault();var t=$(this).attr("href");window.open(t,"_blank")}),$(".footer-wrapper li a").click(function(){if("Owners"==$(this).text()){var e=$(this).attr("href");window.open(e,"_blank")}}),w(".path-blogs .posts-components .row >.col-lg-4",6,5,".path-blogs .posts-components a.btn-primary"),w(".page-node-type-blog .posts-components .row >.col-lg-4",3,3,".page-node-type-blog .posts-components a.btn-primary"),w("#weekday-listing .activities .activity-details",6,5,".activities-block a.btn-primary"),w("#everyday-listing .activities .activity-details",6,5,".activities-block a.btn-primary"),w("#all-bedroom-listing .view-rooms-listing-page .view-content > .row",3,3,".rooms-available a.btn-primary"),w("#one-bedroom-listing .view-rooms-listing-page .view-content > .row",3,3,".rooms-available a.btn-primary"),w("#two-bedroom-listing .view-rooms-listing-page .view-content > .row",3,3,".rooms-available a.btn-primary"),w("#three-bedroom-listing .view-rooms-listing-page .view-content > .row",3,3,".rooms-available a.btn-primary"),$("#bestRateGuaranted").hide();var k=$("#bestRateGuaranted").find(".block").find(".field--item p").text();$(".best-rates").attr("title",k).tooltip(),window.addEventListener("hashchange",function(){window.scrollTo(window.scrollX,window.scrollY-109)}),$(".download-view").on("click",function(){var e=$(this).attr("name");window.open(e,"_blank")})});